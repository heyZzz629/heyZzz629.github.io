<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>奶龙OIER大冒险</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Comic Sans MS', 'Microsoft YaHei'， sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #ffcce6, #c6e2ff);
            color: #333;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
        }
        
        。container {
            max-width: 900px;
            width: 100%;
            text-align: center;
        }
        
        header {
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 20px;
            box-shadow: 0 0 20px rgba(255, 150, 200, 0.5);
            border: 3px dashed #ff66b2;
            position: relative;
            overflow: hidden;
        }
        
        h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #ff66b2, #6699ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 10px rgba(255, 150, 200, 0.3);
        }
        
        。subtitle {
            font-size: 1.3rem;
            color: #666;
            margin-bottom: 15px;
        }
        
        。nai-long {
            font-size: 2rem;
            color: #ff66b2;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 15px 0;
            background: rgba(255, 230, 250, 0.7);
            padding: 10px;
            border-radius: 15px;
        }
        
        .stat-item {
            display: flex;
            flex-direction: column;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #ff66b2;
        }
        
        .game-area {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            margin-bottom: 30px;
        }
        
        .game-container {
            flex: 1;
            min-width: 300px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 0 25px rgba(255, 150, 200, 0.4);
            border: 3px dashed #6699ff;
            position: relative;
            overflow: hidden;
        }
        
        #gameCanvas {
            background: #fff;
            border-radius: 15px;
            display: block;
            margin: 0 auto;
            border: 3px solid #ff99cc;
        }
        
        .controls {
            flex: 1;
            min-width: 300px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 0 25px rgba(255, 150, 200, 0.4);
            border: 3px dashed #6699ff;
        }
        
        h2 {
            color: #6699ff;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }
        
        .control-item {
            margin: 15px 0;
            text-align: left;
            padding: 10px;
            background: rgba(255, 230, 250, 0.7);
            border-radius: 10px;
        }
        
        .key {
            display: inline-block;
            padding: 5px 10px;
            background: #ffccdd;
            border-radius: 8px;
            margin: 0 5px;
            font-family: monospace;
            border: 2px solid #ff99cc;
            box-shadow: 0 3px 0 #ff66b2;
        }
        
        .rules {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 20px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 0 25px rgba(255, 150, 200, 0.4);
            border: 3px dashed #6699ff;
            text-align: left;
        }
        
        .rules h2 {
            text-align: center;
        }
        
        .rules ul {
            margin: 15px 0;
            padding-left: 20px;
        }
        
        .rules li {
            margin: 10px 0;
            line-height: 1.5;
        }
        
        .highlight {
            color: #ff66b2;
            font-weight: bold;
        }
        
        .warning {
            color: #ff3333;
            font-weight: bold;
        }
        
        .accepted {
            color: #66cc66;
            font-weight: bold;
        }
        
        .btn {
            background: linear-gradient(90deg, #ff66b2, #6699ff);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 15px;
            font-size: 1.1rem;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s;
            box-shadow: 0 5px 0 #cc66a3;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 0 #cc66a3;
        }
        
        .btn:active {
            transform: translateY(2px);
            box-shadow: 0 3px 0 #cc66a3;
        }
        
        .footer {
            margin-top: 30px;
            color: #6699ff;
            font-size: 0.9rem;
            text-align: center;
        }
        
        .milk {
            color: #fff;
            text-shadow: 1px 1px 0 #aaa;
        }
        
        .dragon {
            color: #ff66b2;
            font-weight: bold;
        }
        
        .character {
            display: inline-block;
            animation: wiggle 3s infinite;
        }
        
        @keyframes wiggle {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            .game-area {
                flex-direction: column;
            }
            
            h1 {
                font-size: 2.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><span class="milk">奶</span><span class="dragon">龙</span> OIER 大冒险</h1>
            <p class="subtitle">和<span class="nai-long">奶龙</span>一起在抽象算法世界中寻找<span class="accepted"> AC </span>！</p>
            
            <div class="stats">
                <div class="stat-item">
                    <span>得分</span>
                    <span class="stat-value" id="score">0</span>
                </div>
                <div class="stat-item">
                    <span>时间</span>
                    <span class="stat-value" id="time">60</span>
                </div>
                <div class="stat-item">
                    <span>生命</span>
                    <span class="stat-value" id="lives">3</span>
                </div>
            </div>
        </header>
        
        <div class="game-area">
            <div class="game-container">
                <canvas id="gameCanvas" width="600" height="400"></canvas>
            </div>
            
            <div class="controls">
                <h2>游戏控制</h2>
                
                <div class="control-item">
                    <p>移动<span class="character">奶龙</span>：<span class="key">W</span><span class="key">A</span><span class="key">S</span><span class="key">D</span></p>
                </div>
                
                <div class="control-item">
                    <p>收集 <span class="accepted">AC</span> 标志增加分数</p>
                </div>
                
                <div class="control-item">
                    <p>躲避 <span class="warning">TLE</span> 和 <span class="warning">WA</span> 敌人</p>
                </div>
                
                <div class="control-item">
                    <p>收集 <span class="highlight">奶瓶</span> 恢复生命值</p>
                </div>
                
                <button class="btn" id="startBtn">开始游戏</button>
                <button class="btn" id="resetBtn">重新开始</button>
            </div>
        </div>
        
        <div class="rules">
            <h2>游戏规则</h2>
            <ul>
                <li>控制你的 <span class="character">奶龙</span> 在算法迷宫中移动</li>
                <li>收集 <span class="accepted">AC</span>（Accepted）标志获得 <span class="highlight">10分</span></li>
                <li>避开 <span class="warning">TLE</span>（Time Limit Exceeded）和 <span class="warning">WA</span>（Wrong Answer）敌人</li>
                <li>收集 <span class="highlight">奶瓶</span> 恢复 <span class="highlight">1点生命值</span></li>
                <li>游戏时间60秒，尽可能获得高分！</li>
                <li>每被敌人击中一次，失去一条生命，生命为0时游戏结束</li>
            </ul>
            <p><span class="dragon">奶龙</span>和<span class="milk">OIER</span>的完美结合，抽象又魔怔！</p>
        </div>
        
        <div class="footer">
            <p>奶龙OIER大冒险 &copy; 2023 | 献给所有喜欢奶龙和算法的朋友们</p>
        </div>
    </div>

    <script>
        // 获取Canvas元素和上下文
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        
        // 游戏状态
        let gameStarted = false;
        let score = 0;
        let timeLeft = 60;
        let lives = 3;
        let gameInterval;
        let timeInterval;
        
        // 奶龙角色
        const naiLong = {
            x: canvas.width / 2,
            y: canvas.height / 2,
            width: 40,
            height: 40,
            speed: 5,
            color: '#ff66b2'
        };
        
        // AC标志
        let acItems = [];
        
        // 敌人
        let enemies = [];
        
        // 奶瓶道具
        let milkBottles = [];
        
        // 按键状态
        const keys = {
            w: false,
            a: false,
            s: false,
            d: false
        };
        
        // 初始化游戏
        function initGame() {
            score = 0;
            timeLeft = 60;
            lives = 3;
            acItems = [];
            enemies = [];
            milkBottles = [];
            
            naiLong.x = canvas.width / 2;
            naiLong.y = canvas.height / 2;
            
            // 创建初始AC标志
            for (let i = 0; i < 5; i++) {
                createACItem();
            }
            
            // 创建初始敌人
            for (let i = 0; i < 3; i++) {
                createEnemy();
            }
            
            // 创建初始奶瓶
            createMilkBottle();
            
            updateStats();
        }
        
        // 创建AC标志
        function createACItem() {
            acItems.push({
                x: Math.random() * (canvas.width - 40) + 20,
                y: Math.random() * (canvas.height - 40) + 20,
                width: 25,
                height: 25,
                color: '#66cc66'
            });
        }
        
        // 创建敌人
        function createEnemy() {
            const enemyTypes = [
                { type: 'TLE', color: '#ff3333', speed: 2 },
                { type: 'WA', color: '#ff9933', speed: 3 }
            ];
            
            const enemyType = enemyTypes[Math.floor(Math.random() * enemyTypes.length)];
            
            // 决定敌人从哪个边缘出现
            const side = Math.floor(Math.random() * 4);
            let x, y;
            
            switch(side) {
                case 0: // 上边
                    x = Math.random() * canvas.width;
                    y = -30;
                    break;
                case 1: // 右边
                    x = canvas.width + 30;
                    y = Math.random() * canvas.height;
                    break;
                case 2: // 下边
                    x = Math.random() * canvas.width;
                    y = canvas.height + 30;
                    break;
                case 3: // 左边
                    x = -30;
                    y = Math.random() * canvas.height;
                    break;
            }
            
            enemies.push({
                x: x,
                y: y,
                width: 30,
                height: 30,
                color: enemyType.color,
                speed: enemyType.speed,
                type: enemyType.type
            });
        }
        
        // 创建奶瓶道具
        function createMilkBottle() {
            milkBottles.push({
                x: Math.random() * (canvas.width - 30) + 15,
                y: Math.random() * (canvas.height - 30) + 15,
                width: 20,
                height: 30,
                color: '#ffffff'
            });
        }
        
        // 绘制奶龙
        function drawNaiLong() {
            // 奶龙身体
            ctx.fillStyle = naiLong.color;
            ctx.fillRect(naiLong.x, naiLong.y, naiLong.width, naiLong.height);
            
            // 奶龙眼睛
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(naiLong.x + 10, naiLong.y + 10, 8, 8);
            ctx.fillRect(naiLong.x + 22, naiLong.y + 10, 8, 8);
            
            ctx.fillStyle = '#000000';
            ctx.fillRect(naiLong.x + 12, naiLong.y + 12, 4, 4);
            ctx.fillRect(naiLong.x + 24, naiLong.y + 12, 4, 4);
            
            // 奶龙嘴巴
            ctx.strokeStyle = '#000000';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.arc(naiLong.x + 20, naiLong.y + 25, 8, 0, Math.PI);
            ctx.stroke();
            
            // 奶龙角
            ctx.fillStyle = naiLong.color;
            ctx.beginPath();
            ctx.moveTo(naiLong.x + 10, naiLong.y);
            ctx.lineTo(naiLong.x + 5, naiLong.y - 10);
            ctx.lineTo(naiLong.x + 15, naiLong.y);
            ctx.fill();
            
            ctx.beginPath();
            ctx.moveTo(naiLong.x + 30, naiLong.y);
            ctx.lineTo(naiLong.x + 35, naiLong.y - 10);
            ctx.lineTo(naiLong.x + 25, naiLong.y);
            ctx.fill();
        }
        
        // 绘制AC标志
        function drawACItem(ac) {
            ctx.fillStyle = ac.color;
            ctx.fillRect(ac.x, ac.y, ac.width, ac.height);
            
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 14px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText('AC', ac.x + ac.width/2, ac.y + ac.height/2);
        }
        
        // 绘制敌人
        function drawEnemy(enemy) {
            ctx.fillStyle = enemy.color;
            ctx.fillRect(enemy.x, enemy.y, enemy.width, enemy.height);
            
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 12px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(enemy.type, enemy.x + enemy.width/2, enemy.y + enemy.height/2);
        }
        
        // 绘制奶瓶
        function drawMilkBottle(bottle) {
            // 瓶身
            ctx.fillStyle = bottle.color;
            ctx.fillRect(bottle.x, bottle.y + 5, bottle.width, bottle.height - 10);
            
            // 瓶盖
            ctx.fillStyle = '#ffcc00';
            ctx.fillRect(bottle.x - 2, bottle.y, bottle.width + 4, 5);
            
            // 牛奶
            ctx.fillStyle = '#f0f8ff';
            ctx.fillRect(bottle.x + 2, bottle.y + 10, bottle.width - 4, bottle.height - 20);
            
            // 奶瓶标签
            ctx.fillStyle = '#ff66b2';
            ctx.fillRect(bottle.x, bottle.y + 15, bottle.width, 8);
        }
        
        // 更新游戏状态
        function updateGame() {
            // 移动奶龙
            if (keys.w && naiLong.y > 0) naiLong.y -= naiLong.speed;
            if (keys.s && naiLong.y + naiLong.height < canvas.height) naiLong.y += naiLong.speed;
            if (keys.a && naiLong.x > 0) naiLong.x -= naiLong.speed;
            if (keys.d && naiLong.x + naiLong.width < canvas.width) naiLong.x += naiLong.speed;
            
            // 检查AC标志碰撞
            for (let i = acItems.length - 1; i >= 0; i--) {
                const ac = acItems[i];
                
                if (naiLong.x < ac.x + ac.width &&
                    naiLong.x + naiLong.width > ac.x &&
                    naiLong.y < ac.y + ac.height &&
                    naiLong.y + naiLong.height > ac.y) {
                    // 收集AC标志
                    acItems.splice(i, 1);
                    score += 10;
                    createACItem(); // 生成新的AC标志
                    updateStats();
                }
            }
            
            // 更新敌人
            for (let i = enemies.length - 1; i >= 0; i--) {
                const enemy = enemies[i];
                
                // 移动敌人朝向奶龙
                const dx = naiLong.x - enemy.x;
                const dy = naiLong.y - enemy.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                enemy.x += (dx / distance) * enemy.speed;
                enemy.y += (dy / distance) * enemy.speed;
                
                // 检查敌人碰撞
                if (naiLong.x < enemy.x + enemy.width &&
                    naiLong.x + naiLong.width > enemy.x &&
                    naiLong.y < enemy.y + enemy.height &&
                    naiLong.y + naiLong.height > enemy.y) {
                    // 被敌人击中
                    enemies.splice(i, 1);
                    lives--;
                    updateStats();
                    
                    if (lives <= 0) {
                        endGame();
                        return;
                    }
                    
                    createEnemy(); // 生成新的敌人
                }
                
                // 移除超出屏幕的敌人
                if (enemy.x < -50 || enemy.x > canvas.width + 50 || 
                    enemy.y < -50 || enemy.y > canvas.height + 50) {
                    enemies.splice(i, 1);
                    createEnemy(); // 生成新的敌人
                }
            }
            
            // 检查奶瓶碰撞
            for (let i = milkBottles.length - 1; i >= 0; i--) {
                const bottle = milkBottles[i];
                
                if (naiLong.x < bottle.x + bottle.width &&
                    naiLong.x + naiLong.width > bottle.x &&
                    naiLong.y < bottle.y + bottle.height &&
                    naiLong.y + naiLong.height > bottle.y) {
                    // 收集奶瓶
                    milkBottles.splice(i, 1);
                    lives = Math.min(3, lives + 1); // 最多3条生命
                    updateStats();
                    
                    // 稍后生成新的奶瓶
                    setTimeout(createMilkBottle, 5000);
                }
            }
            
            // 随机生成新敌人
            if (Math.random() < 0.01) {
                createEnemy();
            }
            
            drawGame();
        }
        
        // 绘制游戏
        function drawGame() {
            // 清除画布
            ctx.fillStyle = '#fff9fd';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // 绘制背景图案
            ctx.fillStyle = 'rgba(255, 204, 229, 0.3)';
            for (let i = 0; i < canvas.width; i += 50) {
                for (let j = 0; j < canvas.height; j += 50) {
                    ctx.fillText('奶', i, j);
                }
            }
            
            // 绘制AC标志
            for (const ac of acItems) {
                drawACItem(ac);
            }
            
            // 绘制敌人
            for (const enemy of enemies) {
                drawEnemy(enemy);
            }
            
            // 绘制奶瓶
            for (const bottle of milkBottles) {
                drawMilkBottle(bottle);
            }
            
            // 绘制奶龙
            drawNaiLong();
        }
        
        // 更新统计信息
        function updateStats() {
            document.getElementById('score').textContent = score;
            document.getElementById('time').textContent = timeLeft;
            document.getElementById('lives').textContent = lives;
        }
        
        // 开始游戏
        function startGame() {
            if (gameStarted) return;
            
            gameStarted = true;
            initGame();
            
            // 开始游戏循环
            gameInterval = setInterval(updateGame, 1000 / 60);
            
            // 开始计时器
            timeInterval = setInterval(() => {
                timeLeft--;
                updateStats();
                
                if (timeLeft <= 0) {
                    endGame();
                }
            }， 1000);
            
            document。getElementById('startBtn').disabled = true;
        }
        
        // 结束游戏
        function endGame() {
            gameStarted = false;
            clearInterval(gameInterval);
            clearInterval(timeInterval);
            
            // 显示游戏结束信息
            ctx.fillStyle = 'rgba(255, 204, 229, 0.8)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            ctx。fillStyle = '#ff66b2';
            ctx。font = 'bold 36px Arial';
            ctx。textAlign = 'center';
            ctx。textBaseline = 'middle';
            ctx。fillText('游戏结束!'， canvas。width / 2, canvas.height / 2 - 40);
            
            ctx。font = '24px Arial';
            ctx。fillText(`最终得分: ${score}`, canvas.width / 2, canvas.height / 2 + 10);
            
            document.getElementById('startBtn').disabled = false;
        }
        
        // 重置游戏
        function resetGame() {
            if (gameStarted) {
                clearInterval(gameInterval);
                clearInterval(timeInterval);
            }
            gameStarted = false;
            initGame();
            drawGame();
            document。getElementById('startBtn')。disabled = false;
        }
        
        // 事件监听
        document.addEventListener('keydown', (e) => {
            if (e.key === 'w' || e.key === 'W') keys.w = true;
            if (e.key === 'a' || e.key === 'A') keys.a = true;
            if (e。key === 's' || e.key === 'S') keys.s = true;
            if (e。key === 'd' || e.key === 'D') keys.d = true;
        });
        
        document。addEventListener('keyup'， (e) => {
            if (e。key === 'w' || e.key === 'W') keys.w = false;
            if (e。key === 'a' || e。key === 'A') keys。a = false;
            if (e.key === 's' || e.key === 'S') keys.s = false;
            if (e.key === 'd' || e.key === 'D') keys.d = false;
        });
        
        document。getElementById('startBtn')。addEventListener('click', startGame);
        document。getElementById('resetBtn')。addEventListener('click'， resetGame);
        
        // 初始绘制
        drawGame();
    </script>
</body>
</html>
